const apiKey="32ad11f7baf84533819d0089abe5c95c",apiSource="https://newsapi.org/v2/";function getMenuItems(e){var n=new Array;$.getJSON("assets/data/menu.json",function(o){$.each(o,function(e,o){n.push(o)}),e(n)})}function alphanumericsonly(e){var n=/([^A-Za-z0-9])/;n.test(e.value)&&(e.value=e.value.replace(n,""))}var publisherInfo;$(window).scroll(function(){$(this).scrollTop()>300?$(".scrollTop").show():$(".scrollTop").hide()}),$(document).ready(function(){$("#loading").hide(),$(".scrollTop").hide();var e=$(".scrollTop");$(e).click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$("button.nextButton").hide(),$("button.prevButton").hide()}),$(document).ready(function(){if("/"===window.location.pathname||"/index.html"===window.location.pathname){var e=[],n=[],o=document.getElementById("menuCountry"),t=document.getElementById("menuCategory");getMenuItems(function(a){var i=a[1],u=a[0];i.forEach(function(n){"gb"==n.id?(e.push(`<option id="menuCountryItem" selected value="${n.id}">${n.name}</option>`),o.innerHTML=`${e}`):(e.push(`<option id="menuCountryItem" value="${n.id}">${n.name}</option>`),o.innerHTML=`${e}`)}),u.forEach(function(e){n.push(`<option id="menuCategoryItem" value="${e.id}">${e.name}</option>`),t.innerHTML=`${n}`})})}else if("/advanced.html"===window.location.pathname){var a=[],i=[],u=document.getElementById("menuLanguages"),r=document.getElementById("menuSortBy");getMenuItems(function(e){var n=e[3];e[2].forEach(function(e){a.push(`<option id="menuCategoryItem" value="${e.id}">${e.name}</option>`),u.innerHTML=`${a}`}),n.forEach(function(e){i.push(`<option id="menuCategoryItem" value="${e.id}">${e.name}</option>`),r.innerHTML=`${i}`})})}});const publisher={getPublisherInfo:()=>publisherInfo,setPublisherInfo(e){publisherInfo=e}};function sendPublisher(e,n){var o=`${apiSource}sources?`,t=function(e){var t=new XMLHttpRequest;t.open("GET",o),t.send(),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&n(JSON.parse(this.responseText))}};e.country||e.language||e.category?(e.country&&(o+=`country=${e.country}&`),e.category&&(o+=`category=${e.category}&`),e.language&&(o+=`language=${e.language}&`),o+=`apiKey=${apiKey}`,t()):(o+=`&apiKey=${apiKey}`,t())}function addPublisher(e,n){sendPublisher(e,function(e){var o=e.sources;n(o),publisher.setPublisherInfo(o)})}function getPublisher(){return publisherInfo}function sendThings(e,n){var o=`${apiSource}everything?pageSize=100&`,t=function(e){var t=new XMLHttpRequest;console.log("url: "+o),t.open("GET",o),t.send(),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&n(JSON.parse(this.responseText))}};"all"!=e.sources||"all"!=e.language||"all"!=e.sortBy||e.q?("all"!=e.sources&&e.sources&&(o+=`sources=${e.sources}&`),"all"!=e.language&&e.language&&(o+=`language=${e.language}&`),e.sortBy&&(o+=`sortBy=${e.sortBy}&`),e.q&&(o+=`q=${e.q}&`),e.page>1&&(o+=`page=${e.page}&`),o+=`apiKey=${apiKey}`,t()):(o+=`&apiKey=${apiKey}`,t())}function addThings(e,n){sendThings(e,function(e){n(e)})}function searchHeadline(){window.location.href="index.html"}function advancedSearch(){window.location.href="advanced.html"}$(document).ready(function(){!function(){if("/"===window.location.pathname||"/index.html"===window.location.pathname)var e=document.getElementById("menuSources");else"/advanced.html"===window.location.pathname&&(e=document.getElementById("menuSourcesAdvanced"));var n=[];n.push("<option id='menuSourceItem' selected value='all'>All Sources</option>"),n.push("<option id='menuSourceItem' value='many'>Multiple Sources</option>"),addPublisher([],function(o){o.forEach(function(o){n.push(`<option id="menuSourceItem" value="${o.id}">${o.name}</option>`),e.innerHTML=`${n}`})})}()});